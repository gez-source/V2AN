<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>AN Prototype</title>

    <link href="styles/kendo.common.min.css" rel="stylesheet" />
    <link href="styles/kendo.default.min.css" rel="stylesheet" />
    <script src="js/jquery-1.12.3.min.js"></script>
    <script src="js/kendo.all.min.js"></script>
  </head>
  <body>

    <!--<p>Hello <a href="https://docs.telerik.com/kendo-ui/intro/first-steps">Kendo UI for jQuery</a>!
      This is version <strong id="kendoVersion"></strong>.</p> <-->
    <div id="textBox">
        <div class="inputPanel">
            <form action="fpath/makethingshappen.php">
            <input type="text" placeholder="Search..">
            <input type="submit">
            </form>
        </div>
    </div>

    <div id="ordersGrid"></div>

    <style>
        .inputPanel {padding: 50px; margin: 0 auto; text-align: center;}

    </style>

    <script>

      $(function() {

        $("#kendoVersion").text(kendo.version);

        var orderData = [
          { TransactionHash: 1, BlockID: "2017-11-06T12:00:00", Age: 12.34, FromAddress: "Antwerp", ToAddress: "Belgium" },
          { TransactionHash: 2, BlockID: "2019-03-02T12:00:00", Age: 23.45, FromAddress: "Singapore", ToAddress: "Singapore" },
          { TransactionHash: 3, BlockID: "2019-06-26T12:00:00", Age: 34.56, FromAddress: "Shanghai", ToAddress: "China" },
          { TransactionHash: 4, BlockID: "2017-09-20T12:00:00", Age: 45.67, FromAddress: "Hamburg", ToAddress: "Germany" },
          { TransactionHash: 5, BlockID: "2017-12-12T12:00:00", Age: 56.78, FromAddress: "Mumbai", ToAddress: "India" },
          { TransactionHash: 6, BlockID: "2018-02-08T12:00:00", Age: 67.89, FromAddress: "Shanghai", ToAddress: "China" },
          { TransactionHash: 7, BlockID: "2018-05-05T12:00:00", Age: 78.90, FromAddress: "Tokyo", ToAddress: "Japan" },
          { TransactionHash: 8, BlockID: "2019-08-03T12:00:00", Age: 89.01, FromAddress: "Port Klang", ToAddress: "Malaysia" },
          { TransactionHash: 9, BlockID: "2018-10-29T12:00:00", Age: 90.12, FromAddress: "Rotterdam", ToAddress: "Netherlands" },
          { TransactionHash: 10, BlockID: "2018-01-23T12:00:00", Age: 10.32, FromAddress: "Vancouver", ToAddress: "Canada" },
          { TransactionHash: 11, BlockID: "2018-04-17T12:00:00", Age: 21.43, FromAddress: "Col√≥n", ToAddress: "Panama" },
          { TransactionHash: 12, BlockID: "2017-07-11T12:00:00", Age: 32.54, FromAddress: "Manila", ToAddress: "Philippines" },
          { TransactionHash: 13, BlockID: "2017-10-24T12:00:00", Age: 43.65, FromAddress: "Singapore", ToAddress: "Singapore" },
          { TransactionHash: 14, BlockID: "2018-03-11T12:00:00", Age: 54.76, FromAddress: "Busan", ToAddress: "South Korea" },
          { TransactionHash: 15, BlockID: "2018-06-17T12:00:00", Age: 65.87, FromAddress: "Shenzhen", ToAddress: "China" },
          { TransactionHash: 16, BlockID: "2018-10-13T12:00:00", Age: 76.98, FromAddress: "Hong Kong", ToAddress: "China" },
          { TransactionHash: 17, BlockID: "2019-04-19T12:00:00", Age: 87.09, FromAddress: "Dubai", ToAddress: "UAE" },
          { TransactionHash: 18, BlockID: "2019-07-25T12:00:00", Age: 98.21, FromAddress: "Felixstowe", ToAddress: "UK" },
          { TransactionHash: 19, BlockID: "2017-09-22T12:00:00", Age: 13.24, FromAddress: "Los Angeles", ToAddress: "USA" },
          { TransactionHash: 20, BlockID: "2018-12-09T12:00:00", Age: 35.46, FromAddress: "New York", ToAddress: "USA" },
          { TransactionHash: 21, BlockID: "2018-02-04T12:00:00", Age: 57.68, FromAddress: "Guangzhou", ToAddress: "China" },
          { TransactionHash: 22, BlockID: "2019-05-16T12:00:00", Age: 9.87, FromAddress: "Long Beach", ToAddress: "USA" },
          { TransactionHash: 23, BlockID: "2019-08-18T12:00:00", Age: 24.13, FromAddress: "Singapore", ToAddress: "Singapore" }
        ];

        var gridDataSource = new kendo.data.DataSource({
          data: orderData,
          // transport: {
          //   read: {
          //     url: "http://localhost:8080/GetTransactions",
          //     dataType: "json"
          //   }
          // },
          schema: {
              model: {
                  fields: {
                    TransactionHash: { type: "number" },
                    Age: { type: "number" },
                    BlockID: { type: "date" },
                    ToAddress: { type: "string" },
                    FromAddress: { type: "string" }
                  }
              }
          },
          pageSize: 1,
          sort: {
            field: "BlockID",
            dir: "desc"
          }
        });

        $("#ordersGrid").kendoGrid({
          dataSource: gridDataSource,
          //height: 75,
          theme: ["[Silver]"],
          //pageable: true,
          refresh: true,
          //sortable: true,
          //    filterable: true,
          columns: [{
            field:"TransactionHash",
            title: "Transaction Hash",
            width: 160
          }, {
            field: "Age",
            width: 160,
            template: "<span style='color:#= getAgeColor(Age) #'>#= Age #</span>"
          }, {
            field: "BlockID",
            title: "Block ID",
            width: 200,
            format: "{0:dd MMMM yyyy}"
          }, {
            field: "ToAddress",
            title: "To Address"
          }, {
            field: "FromAddress",
            title: "From Address"
          }]
        });

      });

      function getAgeColor(Age) {
        if (Age > 60) {
          return "#090";
        } else if (Age < 30) {
          return "#f00";
        } else {
          return "#00c";
        }

      }

    </script>

  </body>
</html>